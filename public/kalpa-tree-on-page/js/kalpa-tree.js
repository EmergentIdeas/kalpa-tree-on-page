/*! For license information please see kalpa-tree.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("KalpaTree",[],e):"object"==typeof exports?exports.KalpaTree=e():t.KalpaTree=e()}(self,(()=>(()=>{var t={282:(t,e,n)=>{"use strict";var r=n(155),o=n(108);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===i(o)?o:String(o)),r)}var o}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var c,l,u=n(136).codes,f=u.ERR_AMBIGUOUS_ARGUMENT,p=u.ERR_INVALID_ARG_TYPE,h=u.ERR_INVALID_ARG_VALUE,d=u.ERR_INVALID_RETURN_VALUE,y=u.ERR_MISSING_ARGS,g=n(961),v=n(539).inspect,m=n(539).types,b=m.isPromise,_=m.isRegExp,w=n(162)(),x=n(624)(),O=n(924)("RegExp.prototype.test");function j(){var t=n(158);c=t.isDeepEqual,l=t.isDeepStrictEqual}new Map;var E=!1,A=t.exports=k,S={};function T(t){if(t.message instanceof Error)throw t.message;throw new g(t)}function P(t,e,n,r){if(!n){var o=!1;if(0===e)o=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var i=new g({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw i.generatedMessage=o,i}}function k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];P.apply(void 0,[k,e.length].concat(e))}A.fail=function t(e,n,i,a,s){var c,l=arguments.length;if(0===l?c="Failed":1===l?(i=e,e=void 0):(!1===E&&(E=!0,(r.emitWarning?r.emitWarning:o.warn.bind(o))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===l&&(a="!=")),i instanceof Error)throw i;var u={actual:e,expected:n,operator:void 0===a?"fail":a,stackStartFn:s||t};void 0!==i&&(u.message=i);var f=new g(u);throw c&&(f.message=c,f.generatedMessage=!0),f},A.AssertionError=g,A.ok=k,A.equal=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");e!=n&&T({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},A.notEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");e==n&&T({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},A.deepEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");void 0===c&&j(),c(e,n)||T({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},A.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");void 0===c&&j(),c(e,n)&&T({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},A.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");void 0===c&&j(),l(e,n)||T({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},A.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");void 0===c&&j(),l(e,n)&&T({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},A.strictEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");x(e,n)||T({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},A.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new y("actual","expected");x(e,n)&&T({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var N=s((function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&_(e[t])&&O(e[t],r[t])?o[t]=r[t]:o[t]=e[t])}))}));function I(t,e,n,r){if("function"!=typeof e){if(_(e))return O(e,t);if(2===arguments.length)throw new p("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var o=new g({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw o.operator=r.name,o}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new h("error",e,"may not be an empty object");return void 0===c&&j(),a.forEach((function(o){"string"==typeof t[o]&&_(e[o])&&O(e[o],t[o])||function(t,e,n,r,o,i){if(!(n in t)||!l(t[n],e[n])){if(!r){var a=new N(t,o),s=new N(e,o,t),c=new g({actual:a,expected:s,operator:"deepStrictEqual",stackStartFn:i});throw c.actual=t,c.expected=e,c.operator=i.name,c}T({actual:t,expected:e,message:r,operator:i.name,stackStartFn:i})}}(t,e,o,n,a,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function R(t){if("function"!=typeof t)throw new p("fn","Function",t);try{t()}catch(t){return t}return S}function M(t){return b(t)||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function F(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!M(e=t()))throw new d("instance of Promise","promiseFn",e)}else{if(!M(t))throw new p("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return S})).catch((function(t){return t}))}))}function C(t,e,n,r){if("string"==typeof n){if(4===arguments.length)throw new p("error",["Object","Error","Function","RegExp"],n);if("object"===i(e)&&null!==e){if(e.message===n)throw new f("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new f("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==i(n)&&"function"!=typeof n)throw new p("error",["Object","Error","Function","RegExp"],n);if(e===S){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=r?": ".concat(r):".";var a="rejects"===t.name?"rejection":"exception";T({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(a).concat(o),stackStartFn:t})}if(n&&!I(e,n,r,t))throw e}function D(t,e,n,r){if(e!==S){if("string"==typeof n&&(r=n,n=void 0),!n||I(e,n)){var o=r?": ".concat(r):".",i="doesNotReject"===t.name?"rejection":"exception";T({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function L(t,e,n,r,o){if(!_(e))throw new p("regexp","RegExp",e);var a="match"===o;if("string"!=typeof t||O(e,t)!==a){if(n instanceof Error)throw n;var s=!n;n=n||("string"!=typeof t?'The "string" argument must be of type string. Received type '+"".concat(i(t)," (").concat(v(t),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(v(e),". Input:\n\n").concat(v(t),"\n"));var c=new g({actual:t,expected:e,message:n,operator:o,stackStartFn:r});throw c.generatedMessage=s,c}}function $(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];P.apply(void 0,[$,e.length].concat(e))}A.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];C.apply(void 0,[t,R(e)].concat(r))},A.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return F(e).then((function(e){return C.apply(void 0,[t,e].concat(r))}))},A.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];D.apply(void 0,[t,R(e)].concat(r))},A.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return F(e).then((function(e){return D.apply(void 0,[t,e].concat(r))}))},A.ifError=function t(e){if(null!=e){var n="ifError got unwanted exception: ";"object"===i(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=v(e);var r=new g({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),o=e.stack;if("string"==typeof o){var a=o.split("\n");a.shift();for(var s=r.stack.split("\n"),c=0;c<a.length;c++){var l=s.indexOf(a[c]);if(-1!==l){s=s.slice(0,l);break}}r.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw r}},A.match=function t(e,n,r){L(e,n,r,t,"match")},A.doesNotMatch=function t(e,n,r){L(e,n,r,t,"doesNotMatch")},A.strict=w($,A,{equal:A.strictEqual,deepEqual:A.deepStrictEqual,notEqual:A.notStrictEqual,notDeepEqual:A.notDeepStrictEqual}),A.strict.strict=A.strict},961:(t,e,n)=>{"use strict";var r=n(155);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){var r,o,i;r=t,o=e,i=n[e],(o=s(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}function c(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)},u(t)}function f(t,e,n){return f=p()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o},f.apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}var g=n(539).inspect,v=n(136).codes.ERR_INVALID_ARG_TYPE;function m(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var b="",_="",w="",x="",O={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function j(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function E(t){return g(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var A=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(A,t);var n,o,s,u,f=(n=A,o=p(),function(){var t,e=d(n);if(o){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return c(this,t)});function A(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),"object"!==y(t)||null===t)throw new v("options","Object",t);var n=t.message,o=t.operator,i=t.stackStartFn,a=t.actual,s=t.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=n)e=f.call(this,String(n));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(b="[34m",_="[32m",x="[39m",w="[31m"):(b="",_="",x="",w="")),"object"===y(a)&&null!==a&&"object"===y(s)&&null!==s&&"stack"in a&&a instanceof Error&&"stack"in s&&s instanceof Error&&(a=j(a),s=j(s)),"deepStrictEqual"===o||"strictEqual"===o)e=f.call(this,function(t,e,n){var o="",i="",a=0,s="",c=!1,l=E(t),u=l.split("\n"),f=E(e).split("\n"),p=0,h="";if("strictEqual"===n&&"object"===y(t)&&"object"===y(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===u.length&&1===f.length&&u[0]!==f[0]){var d=u[0].length+f[0].length;if(d<=10){if(!("object"===y(t)&&null!==t||"object"===y(e)&&null!==e||0===t&&0===e))return"".concat(O[n],"\n\n")+"".concat(u[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==n&&d<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;u[0][p]===f[0][p];)p++;p>2&&(h="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",p),"^"),p=0)}}for(var g=u[u.length-1],v=f[f.length-1];g===v&&(p++<2?s="\n  ".concat(g).concat(s):o=g,u.pop(),f.pop(),0!==u.length&&0!==f.length);)g=u[u.length-1],v=f[f.length-1];var j=Math.max(u.length,f.length);if(0===j){var A=l.split("\n");if(A.length>30)for(A[26]="".concat(b,"...").concat(x);A.length>27;)A.pop();return"".concat(O.notIdentical,"\n\n").concat(A.join("\n"),"\n")}p>3&&(s="\n".concat(b,"...").concat(x).concat(s),c=!0),""!==o&&(s="\n  ".concat(o).concat(s),o="");var S=0,T=O[n]+"\n".concat(_,"+ actual").concat(x," ").concat(w,"- expected").concat(x),P=" ".concat(b,"...").concat(x," Lines skipped");for(p=0;p<j;p++){var k=p-a;if(u.length<p+1)k>1&&p>2&&(k>4?(i+="\n".concat(b,"...").concat(x),c=!0):k>3&&(i+="\n  ".concat(f[p-2]),S++),i+="\n  ".concat(f[p-1]),S++),a=p,o+="\n".concat(w,"-").concat(x," ").concat(f[p]),S++;else if(f.length<p+1)k>1&&p>2&&(k>4?(i+="\n".concat(b,"...").concat(x),c=!0):k>3&&(i+="\n  ".concat(u[p-2]),S++),i+="\n  ".concat(u[p-1]),S++),a=p,i+="\n".concat(_,"+").concat(x," ").concat(u[p]),S++;else{var N=f[p],I=u[p],R=I!==N&&(!m(I,",")||I.slice(0,-1)!==N);R&&m(N,",")&&N.slice(0,-1)===I&&(R=!1,I+=","),R?(k>1&&p>2&&(k>4?(i+="\n".concat(b,"...").concat(x),c=!0):k>3&&(i+="\n  ".concat(u[p-2]),S++),i+="\n  ".concat(u[p-1]),S++),a=p,i+="\n".concat(_,"+").concat(x," ").concat(I),o+="\n".concat(w,"-").concat(x," ").concat(N),S+=2):(i+=o,o="",1!==k&&0!==p||(i+="\n  ".concat(I),S++))}if(S>20&&p<j-2)return"".concat(T).concat(P,"\n").concat(i,"\n").concat(b,"...").concat(x).concat(o,"\n")+"".concat(b,"...").concat(x)}return"".concat(T).concat(c?P:"","\n").concat(i).concat(o).concat(s).concat(h)}(a,s,o));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var p=O[o],h=E(a).split("\n");if("notStrictEqual"===o&&"object"===y(a)&&null!==a&&(p=O.notStrictEqualObject),h.length>30)for(h[26]="".concat(b,"...").concat(x);h.length>27;)h.pop();e=1===h.length?f.call(this,"".concat(p," ").concat(h[0])):f.call(this,"".concat(p,"\n\n").concat(h.join("\n"),"\n"))}else{var d=E(a),g="",S=O[o];"notDeepEqual"===o||"notEqual"===o?(d="".concat(O[o],"\n\n").concat(d)).length>1024&&(d="".concat(d.slice(0,1021),"...")):(g="".concat(E(s)),d.length>512&&(d="".concat(d.slice(0,509),"...")),g.length>512&&(g="".concat(g.slice(0,509),"...")),"deepEqual"===o||"equal"===o?d="".concat(S,"\n\n").concat(d,"\n\nshould equal\n\n"):g=" ".concat(o," ").concat(g)),e=f.call(this,"".concat(d).concat(g))}return Error.stackTraceLimit=u,e.generatedMessage=!n,Object.defineProperty(l(e),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),e.code="ERR_ASSERTION",e.actual=a,e.expected=s,e.operator=o,Error.captureStackTrace&&Error.captureStackTrace(l(e),i),e.stack,e.name="AssertionError",c(e)}return s=A,(u=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(t,e){return g(this,i(i({},e),{},{customInspect:!1,depth:0}))}}])&&a(s.prototype,u),Object.defineProperty(s,"prototype",{writable:!1}),A}(u(Error),g.custom);t.exports=A},136:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}var a,s,c={};function l(t,e,n){n||(n=Error);var a=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,n);var a,s,c,l=(s=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=i(s);if(c){var n=i(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(n,r,o){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i=l.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,o)),i.code=t,i}return a=u,Object.defineProperty(a,"prototype",{writable:!1}),a}(n);c[t]=a}function u(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(t,e,o){var i,s,c,l,f;if(void 0===a&&(a=n(282)),a("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(s="not ",e.substr(0,4)===s)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-9,n)===e}(t," argument"))c="The ".concat(t," ").concat(i," ").concat(u(e,"type"));else{var p=("number"!=typeof f&&(f=0),f+1>(l=t).length||-1===l.indexOf(".",f)?"argument":"property");c='The "'.concat(t,'" ').concat(p," ").concat(i," ").concat(u(e,"type"))}return c+". Received type ".concat(r(o))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=n(539));var o=s.inspect(e);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(o)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var o;return o=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(o,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===a&&(a=n(282)),a(e.length>0,"At least one arg needs to be specified");var o="The ",i=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),i){case 1:o+="".concat(e[0]," argument");break;case 2:o+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:o+=e.slice(0,i-1).join(", "),o+=", and ".concat(e[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),t.exports.codes=c},158:(t,e,n)=>{"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},c=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},l=Object.is?Object.is:n(609),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:n(360);function p(t){return t.call.bind(t)}var h=p(Object.prototype.hasOwnProperty),d=p(Object.prototype.propertyIsEnumerable),y=p(Object.prototype.toString),g=n(539).types,v=g.isAnyArrayBuffer,m=g.isArrayBufferView,b=g.isDate,_=g.isMap,w=g.isRegExp,x=g.isSet,O=g.isNativeError,j=g.isBoxedPrimitive,E=g.isNumberObject,A=g.isStringObject,S=g.isBooleanObject,T=g.isBigIntObject,P=g.isSymbolObject,k=g.isFloat32Array,N=g.isFloat64Array;function I(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function R(t){return Object.keys(t).filter(I).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function M(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}var F=0,C=1,D=2,L=3;function $(t,e,n,r){if(t===e)return 0!==t||!n||l(t,e);if(n){if("object"!==i(t))return"number"==typeof t&&f(t)&&f(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var o,s,c,u,p=y(t);if(p!==y(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var h=R(t),d=R(e);return h.length===d.length&&U(t,e,n,r,C,h)}if("[object Object]"===p&&(!_(t)&&_(e)||!x(t)&&x(e)))return!1;if(b(t)){if(!b(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(w(t)){if(!w(e)||(c=t,u=e,!(a?c.source===u.source&&c.flags===u.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(u))))return!1}else if(O(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(n||!k(t)&&!N(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===M(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var g=R(t),I=R(e);return g.length===I.length&&U(t,e,n,r,F,g)}if(x(t))return!(!x(e)||t.size!==e.size)&&U(t,e,n,r,D);if(_(t))return!(!_(e)||t.size!==e.size)&&U(t,e,n,r,L);if(v(t)){if(s=e,(o=t).byteLength!==s.byteLength||0!==M(new Uint8Array(o),new Uint8Array(s)))return!1}else if(j(t)&&!function(t,e){return E(t)?E(e)&&l(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):A(t)?A(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):S(t)?S(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):T(t)?T(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):P(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return U(t,e,n,r,F)}function q(t,e){return e.filter((function(e){return d(t,e)}))}function U(t,e,n,o,a,l){if(5===arguments.length){l=Object.keys(t);var f=Object.keys(e);if(l.length!==f.length)return!1}for(var p=0;p<l.length;p++)if(!h(e,l[p]))return!1;if(n&&5===arguments.length){var y=u(t);if(0!==y.length){var g=0;for(p=0;p<y.length;p++){var v=y[p];if(d(t,v)){if(!d(e,v))return!1;l.push(v),g++}else if(d(e,v))return!1}var m=u(e);if(y.length!==m.length&&q(e,m).length!==g)return!1}else{var b=u(e);if(0!==b.length&&0!==q(e,b).length)return!1}}if(0===l.length&&(a===F||a===C&&0===t.length||0===t.size))return!0;if(void 0===o)o={val1:new Map,val2:new Map,position:0};else{var _=o.val1.get(t);if(void 0!==_){var w=o.val2.get(e);if(void 0!==w)return _===w}o.position++}o.val1.set(t,o.position),o.val2.set(e,o.position);var x=function(t,e,n,o,a,l){var u=0;if(l===D){if(!function(t,e,n,r){for(var o=null,a=s(t),c=0;c<a.length;c++){var l=a[c];if("object"===i(l)&&null!==l)null===o&&(o=new Set),o.add(l);else if(!e.has(l)){if(n)return!1;if(!z(t,e,l))return!1;null===o&&(o=new Set),o.add(l)}}if(null!==o){for(var u=s(e),f=0;f<u.length;f++){var p=u[f];if("object"===i(p)&&null!==p){if(!B(o,p,n,r))return!1}else if(!n&&!t.has(p)&&!B(o,p,n,r))return!1}return 0===o.size}return!0}(t,e,n,a))return!1}else if(l===L){if(!function(t,e,n,o){for(var a=null,s=c(t),l=0;l<s.length;l++){var u=r(s[l],2),f=u[0],p=u[1];if("object"===i(f)&&null!==f)null===a&&(a=new Set),a.add(f);else{var h=e.get(f);if(void 0===h&&!e.has(f)||!$(p,h,n,o)){if(n)return!1;if(!V(t,e,f,p,o))return!1;null===a&&(a=new Set),a.add(f)}}}if(null!==a){for(var d=c(e),y=0;y<d.length;y++){var g=r(d[y],2),v=g[0],m=g[1];if("object"===i(v)&&null!==v){if(!G(a,t,v,m,n,o))return!1}else if(!(n||t.has(v)&&$(t.get(v),m,!1,o)||G(a,t,v,m,!1,o)))return!1}return 0===a.size}return!0}(t,e,n,a))return!1}else if(l===C)for(;u<t.length;u++){if(!h(t,u)){if(h(e,u))return!1;for(var f=Object.keys(t);u<f.length;u++){var p=f[u];if(!h(e,p)||!$(t[p],e[p],n,a))return!1}return f.length===Object.keys(e).length}if(!h(e,u)||!$(t[u],e[u],n,a))return!1}for(u=0;u<o.length;u++){var d=o[u];if(!$(t[d],e[d],n,a))return!1}return!0}(t,e,n,l,o,a);return o.val1.delete(t),o.val2.delete(e),x}function B(t,e,n,r){for(var o=s(t),i=0;i<o.length;i++){var a=o[i];if($(e,a,n,r))return t.delete(a),!0}return!1}function W(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(f(t))return!1}return!0}function z(t,e,n){var r=W(n);return null!=r?r:e.has(r)&&!t.has(r)}function V(t,e,n,r,o){var i=W(n);if(null!=i)return i;var a=e.get(i);return!(void 0===a&&!e.has(i)||!$(r,a,!1,o))&&!t.has(i)&&$(r,a,!1,o)}function G(t,e,n,r,o,i){for(var a=s(t),c=0;c<a.length;c++){var l=a[c];if($(n,l,o,i)&&$(r,e.get(l),o,i))return t.delete(l),!0}return!1}t.exports={isDeepEqual:function(t,e){return $(t,e,!1)},isDeepStrictEqual:function(t,e){return $(t,e,!0)}}},924:(t,e,n)=>{"use strict";var r=n(210),o=n(559),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},559:(t,e,n)=>{"use strict";var r=n(612),o=n(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=s(r,a,arguments);return c&&l&&c(e,"length").configurable&&l(e,"length",{value:1+u(0,t.length-(arguments.length-1))}),e};var f=function(){return s(r,i,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f},108:(t,e,n)=>{var r=n(539),o=n(282);function i(){return(new Date).getTime()}var a,s=Array.prototype.slice,c={};a=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(t){c[t]=i()},"time"],[function(t){var e=c[t];if(!e)throw new Error("No such label: "+t);delete c[t];var n=i()-e;a.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=r.format.apply(null,arguments),a.error(t.stack)},"trace"],[function(t){a.log(r.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=s.call(arguments,1);o.ok(!1,r.format.apply(null,e))}},"assert"]],u=0;u<l.length;u++){var f=l[u],p=f[0],h=f[1];a[h]||(a[h]=p)}t.exports=a},511:(t,e,n)=>{"use strict";var r=n(44)(),o=n(210),i=r&&o("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(t){i=!1}var a=o("%SyntaxError%"),s=o("%TypeError%"),c=n(296);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new s("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],f=!!c&&c(t,e);if(i)i(t,e,{configurable:null===l&&f?f.configurable:!l,enumerable:null===r&&f?f.enumerable:!r,value:n,writable:null===o&&f?f.writable:!o});else{if(!u&&(r||o||l))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},289:(t,e,n)=>{"use strict";var r=n(215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=n(511),c=n(44)(),l=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;c?s(t,e,n,!0):s(t,e,n)},u=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)l(t,i[s],e[i[s]],n[i[s]])};u.supportsDescriptors=!!c,t.exports=u},150:t=>{"use strict";var e=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(e,"\\$&")}},187:(t,e,n)=>{"use strict";var r,o=n(108),i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}m(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,o)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function p(t,e,n,r){var i,a,s,c;if(u(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),s=a[e]),void 0===s)s=a[e]=n,++t._eventsCount;else if("function"==typeof s?s=a[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=f(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,c=l,o&&o.warn&&o.warn(c)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function y(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):v(o,o.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)a(c,this,e);else{var l=c.length,u=v(c,l);for(n=0;n<l;++n)a(u[n],this,e)}return!0},c.prototype.addListener=function(t,e){return p(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return p(this,t,e,!0)},c.prototype.once=function(t,e){return u(e),this.on(t,d(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,d(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,o,i,a;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return y(this,t,!0)},c.prototype.rawListeners=function(t){return y(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},29:(t,e,n)=>{"use strict";var r=n(320),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===o.call(t)?function(t,e,n){for(var r=0,o=t.length;r<o;r++)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,a):"string"==typeof t?function(t,e,n){for(var r=0,o=t.length;r<o;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,a):function(t,e,n){for(var r in t)i.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,a)}},648:t=>{"use strict";var e=Object.prototype.toString,n=Math.max,r=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var o=0;o<e.length;o+=1)n[o+t.length]=e[o];return n};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(t,e){for(var n=[],r=1,o=0;r<t.length;r+=1,o+=1)n[o]=t[r];return n}(arguments),s=n(0,o.length-a.length),c=[],l=0;l<s;l++)c[l]="$"+l;if(i=Function("binder","return function ("+function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=",");return n}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,r(a,arguments));return Object(e)===e?e:this}return o.apply(t,r(a,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},612:(t,e,n)=>{"use strict";var r=n(648);t.exports=Function.prototype.bind||r},210:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var l=function(){throw new a},u=c?function(){try{return l}catch(t){try{return c(arguments,"callee").get}catch(t){return l}}}():l,f=n(405)(),p=n(185)(),h=Object.getPrototypeOf||(p?function(t){return t.__proto__}:null),d={},y="undefined"!=typeof Uint8Array&&h?h(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f&&h?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&h?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&h?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&h?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&h?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(h)try{null.error}catch(t){var v=h(h(t));g["%Error.prototype%"]=v}var m=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&h&&(n=h(o.prototype))}return g[e]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=n(612),w=n(642),x=_.call(Function.call,Array.prototype.concat),O=_.call(Function.apply,Array.prototype.splice),j=_.call(Function.call,String.prototype.replace),E=_.call(Function.call,String.prototype.slice),A=_.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,P=function(t,e){var n,r=t;if(w(b,r)&&(r="%"+(n=b[r])[0]+"%"),w(g,r)){var i=g[r];if(i===d&&(i=m(r)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return j(t,S,(function(t,e,n,o){r[r.length]=n?j(o,T,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=P("%"+r+"%",e),s=i.name,l=i.value,u=!1,f=i.alias;f&&(r=f[0],O(n,x([0,1],f)));for(var p=1,h=!0;p<n.length;p+=1){var d=n[p],y=E(d,0,1),v=E(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&h||(u=!0),w(g,s="%"+(r+="."+d)+"%"))l=g[s];else if(null!=l){if(!(d in l)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&p+1>=n.length){var m=c(l,d);l=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:l[d]}else h=w(l,d),l=l[d];h&&!u&&(g[s]=l)}}return l}},296:(t,e,n)=>{"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},44:(t,e,n)=>{"use strict";var r=n(210)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},185:t=>{"use strict";var e={foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof n)}},405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},410:(t,e,n)=>{"use strict";var r=n(419);t.exports=function(){return r()&&!!Symbol.toStringTag}},642:t=>{"use strict";var e={}.hasOwnProperty,n=Function.prototype.call;t.exports=n.bind?n.bind(e):function(t,r){return n.call(e,t,r)}},717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},584:(t,e,n)=>{"use strict";var r=n(410)(),o=n(924)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a},320:t=>{"use strict";var e,n,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,e)}catch(t){t!==n&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(t){try{var e=r.call(t);return i.test(e)}catch(t){return!1}},s=function(t){try{return!a(t)&&(r.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var p=document.all;c.call(p)===c.call(document.all)&&(f=function(t){if((u||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=o?function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{o(t,null,e)}catch(t){if(t!==n)return!1}return!a(t)&&s(t)}:function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(l)return s(t);if(a(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&s(t)}},662:(t,e,n)=>{"use strict";var r,o=Object.prototype.toString,i=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=n(410)(),c=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(a.test(i.call(t)))return!0;if(!s)return"[object GeneratorFunction]"===o.call(t);if(!c)return!1;if(void 0===r){var e=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&c(e)}return c(t)===r}},611:t=>{"use strict";t.exports=function(t){return t!=t}},360:(t,e,n)=>{"use strict";var r=n(559),o=n(289),i=n(611),a=n(415),s=n(194),c=r(a(),Number);o(c,{getPolyfill:a,implementation:i,shim:s}),t.exports=c},415:(t,e,n)=>{"use strict";var r=n(611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},194:(t,e,n)=>{"use strict";var r=n(289),o=n(415);t.exports=function(){var t=o();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},692:(t,e,n)=>{"use strict";var r=n(430);t.exports=function(t){return!!r(t)}},244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},609:(t,e,n)=>{"use strict";var r=n(289),o=n(559),i=n(244),a=n(624),s=n(281),c=o(a(),Object);r(c,{getPolyfill:a,implementation:i,shim:s}),t.exports=c},624:(t,e,n)=>{"use strict";var r=n(244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},281:(t,e,n)=>{"use strict";var r=n(624),o=n(289);t.exports=function(){var t=r();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(414),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=a(t),s=e&&"[object String]"===i.call(t),p=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=l&&n;if(s&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)p.push(String(y));if(r&&t.length>0)for(var g=0;g<t.length;++g)p.push(String(g));else for(var v in t)d&&"prototype"===v||!o.call(t,v)||p.push(String(v));if(c)for(var m=function(t){if("undefined"==typeof window||!h)return f(t);try{return f(t)}catch(t){return!1}}(t),b=0;b<u.length;++b)m&&"constructor"===u[b]||!o.call(t,u[b])||p.push(u[b]);return p}}t.exports=r},215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,o=n(414),i=Object.keys,a=i?function(t){return i(t)}:n(987),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?s(r.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},837:(t,e,n)=>{"use strict";var r=n(215),o=n(419)(),i=n(924),a=Object,s=i("Array.prototype.push"),c=i("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var n=a(t);if(1===arguments.length)return n;for(var i=1;i<arguments.length;++i){var u=a(arguments[i]),f=r(u),p=o&&(Object.getOwnPropertySymbols||l);if(p)for(var h=p(u),d=0;d<h.length;++d){var y=h[d];c(u,y)&&s(f,y)}for(var g=0;g<f.length;++g){var v=f[g];if(c(u,v)){var m=u[v];n[v]=m}}}return n}},162:(t,e,n)=>{"use strict";var r=n(837);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},155:t=>{var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var s,c=[],l=!1,u=-1;function f(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(s=c,c=[];++u<e;)s&&s[u].run();u=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},955:(t,e,n)=>{"use strict";var r=n(584),o=n(662),i=n(430),a=n(692);function s(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,u=s(Object.prototype.toString),f=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(c)var d=s(BigInt.prototype.valueOf);if(l)var y=s(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function v(t){return"[object Map]"===u(t)}function m(t){return"[object Set]"===u(t)}function b(t){return"[object WeakMap]"===u(t)}function _(t){return"[object WeakSet]"===u(t)}function w(t){return"[object ArrayBuffer]"===u(t)}function x(t){return"undefined"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function O(t){return"[object DataView]"===u(t)}function j(t){return"undefined"!=typeof DataView&&(O.working?O(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=o,e.isTypedArray=a,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):a(t)||j(t)},e.isUint8Array=function(t){return"Uint8Array"===i(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===i(t)},e.isUint16Array=function(t){return"Uint16Array"===i(t)},e.isUint32Array=function(t){return"Uint32Array"===i(t)},e.isInt8Array=function(t){return"Int8Array"===i(t)},e.isInt16Array=function(t){return"Int16Array"===i(t)},e.isInt32Array=function(t){return"Int32Array"===i(t)},e.isFloat32Array=function(t){return"Float32Array"===i(t)},e.isFloat64Array=function(t){return"Float64Array"===i(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===i(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===i(t)},v.working="undefined"!=typeof Map&&v(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(v.working?v(t):t instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(m.working?m(t):t instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(b.working?b(t):t instanceof WeakMap)},_.working="undefined"!=typeof WeakSet&&_(new WeakSet),e.isWeakSet=function(t){return _(t)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=x,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=j;var E="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(t){return"[object SharedArrayBuffer]"===u(t)}function S(t){return void 0!==E&&(void 0===A.working&&(A.working=A(new E)),A.working?A(t):t instanceof E)}function T(t){return g(t,f)}function P(t){return g(t,p)}function k(t){return g(t,h)}function N(t){return c&&g(t,d)}function I(t){return l&&g(t,y)}e.isSharedArrayBuffer=S,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===u(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===u(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===u(t)},e.isGeneratorObject=function(t){return"[object Generator]"===u(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===u(t)},e.isNumberObject=T,e.isStringObject=P,e.isBooleanObject=k,e.isBigIntObject=N,e.isSymbolObject=I,e.isBoxedPrimitive=function(t){return T(t)||P(t)||k(t)||N(t)||I(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(x(t)||S(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},539:(t,e,n)=>{var r=n(155),o=n(108),i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},a=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(t).replace(a,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),s=r[n];n<o;s=r[++n])m(s)||!O(s)?i+=" "+s:i+=" "+u(s);return i},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?o.trace(n):o.error(n),i=!0}return t.apply(this,arguments)}};var s={},c=/^$/;if(r.env.NODE_DEBUG){var l=r.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+l+"$","i")}function u(t,n){var r={seen:[],stylize:p};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=f),h(r,t,r.depth)}function f(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function p(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return _(o)||(o=h(t,o,r)),o}var i=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(A(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return d(n)}var l,u="",f=!1,p=["{","}"];return g(n)&&(f=!0,p=["[","]"]),A(n)&&(u=" [Function"+(n.name?": "+n.name:"")+"]"),x(n)&&(u=" "+RegExp.prototype.toString.call(n)),j(n)&&(u=" "+Date.prototype.toUTCString.call(n)),E(n)&&(u=" "+d(n)),0!==a.length||f&&0!=n.length?r<0?x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=f?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)k(e,String(a))?i.push(y(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(y(t,e,n,r,o,!0))})),i}(t,n,r,s,a):a.map((function(e){return y(t,n,r,s,e,f)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,u,p)):p[0]+u+p[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function y(t,e,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),k(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(n)?h(t,c.value,null):h(t,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function g(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function _(t){return"string"==typeof t}function w(t){return void 0===t}function x(t){return O(t)&&"[object RegExp]"===S(t)}function O(t){return"object"==typeof t&&null!==t}function j(t){return O(t)&&"[object Date]"===S(t)}function E(t){return O(t)&&("[object Error]"===S(t)||t instanceof Error)}function A(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(c.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);o.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(955),e.isArray=g,e.isBoolean=v,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=_,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=x,e.types.isRegExp=x,e.isObject=O,e.isDate=j,e.types.isDate=j,e.isError=E,e.types.isNativeError=E,e.isFunction=A,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(384);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;o.log("%s - %s",(n=[T((t=new Date).getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":"),[t.getDate(),P[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(717),e._extend=function(t,e){if(!e||!O(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var e;if("function"!=typeof(e=t[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),N&&Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=N,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var o=e.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,e).then((function(t){r.nextTick(a.bind(null,null,t))}),(function(t){r.nextTick(I.bind(null,t,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},430:(t,e,n)=>{"use strict";var r=n(29),o=n(83),i=n(559),a=n(924),s=n(296),c=a("Object.prototype.toString"),l=n(410)(),u="undefined"==typeof globalThis?n.g:globalThis,f=o(),p=a("String.prototype.slice"),h=Object.getPrototypeOf,d=a("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},y={__proto__:null};r(f,l&&s&&h?function(t){var e=new u[t];if(Symbol.toStringTag in e){var n=h(e),r=s(n,Symbol.toStringTag);if(!r){var o=h(n);r=s(o,Symbol.toStringTag)}y["$"+t]=i(r.get)}}:function(t){var e=new u[t];y["$"+t]=i(e.slice)}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!l){var e=p(c(t),8,-1);return d(f,e)>-1?e:"Object"===e&&function(t){var e=!1;return r(y,(function(n,r){if(!e)try{n(t),e=p(r,1)}catch(t){}})),e}(t)}return s?function(t){var e=!1;return r(y,(function(n,r){if(!e)try{"$"+n(t)===r&&(e=p(r,1))}catch(t){}})),e}(t):null}},83:(t,e,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?n.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof o[r[e]]&&(t[t.length]=r[e]);return t}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";function t(){}function e(e){return null==e?t:function(){return this.querySelector(e)}}function o(){return[]}function i(t){return null==t?o:function(){return this.querySelectorAll(t)}}function a(t){return function(){return this.matches(t)}}function s(t){return function(e){return e.matches(t)}}n.r(r),n.d(r,{default:()=>Wn});var c=Array.prototype.find;function l(){return this.firstElementChild}var u=Array.prototype.filter;function p(){return Array.from(this.children)}function h(t){return new Array(t.length)}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function y(t,e,n,r,o,i){for(var a,s=0,c=e.length,l=i.length;s<l;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new d(t,i[s]);for(;s<c;++s)(a=e[s])&&(o[s]=a)}function g(t,e,n,r,o,i,a){var s,c,l,u=new Map,f=e.length,p=i.length,h=new Array(f);for(s=0;s<f;++s)(c=e[s])&&(h[s]=l=a.call(c,c.__data__,s,e)+"",u.has(l)?o[s]=c:u.set(l,c));for(s=0;s<p;++s)l=a.call(t,i[s],s,i)+"",(c=u.get(l))?(r[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new d(t,i[s]);for(s=0;s<f;++s)(c=e[s])&&u.get(h[s])===c&&(o[s]=c)}function v(t){return t.__data__}function m(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function b(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _="http://www.w3.org/1999/xhtml";const w={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),w.hasOwnProperty(e)?{space:w[e],local:t}:t}function O(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E(t,e){return function(){this.setAttribute(t,e)}}function A(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function P(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function k(t){return function(){this.style.removeProperty(t)}}function N(t,e,n){return function(){this.style.setProperty(t,e,n)}}function I(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function R(t,e){return t.style.getPropertyValue(e)||P(t).getComputedStyle(t,null).getPropertyValue(e)}function M(t){return function(){delete this[t]}}function F(t,e){return function(){this[t]=e}}function C(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function D(t){return t.trim().split(/^|\s+/)}function L(t){return t.classList||new $(t)}function $(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function q(t,e){for(var n=L(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function U(t,e){for(var n=L(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function B(t){return function(){q(this,t)}}function W(t){return function(){U(this,t)}}function z(t,e){return function(){(e.apply(this,arguments)?q:U)(this,t)}}function V(){this.textContent=""}function G(t){return function(){this.textContent=t}}function H(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function X(){this.innerHTML=""}function Y(t){return function(){this.innerHTML=t}}function J(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Q(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_&&e.documentElement.namespaceURI===_?e.createElement(t):e.createElementNS(n,t)}}function tt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function et(t){var e=x(t);return(e.local?tt:Q)(e)}function nt(){return null}function rt(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function it(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function at(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function st(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function ct(t,e,n){var r=P(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function lt(t,e){return function(){return ct(this,t,e)}}function ut(t,e){return function(){return ct(this,t,e.apply(this,arguments))}}$.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ft=[null];function pt(t,e){this._groups=t,this._parents=e}function ht(){return new pt([[document.documentElement]],ft)}pt.prototype=ht.prototype={constructor:pt,select:function(t){"function"!=typeof t&&(t=e(t));for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var a,s,c=n[i],l=c.length,u=o[i]=new Array(l),f=0;f<l;++f)(a=c[f])&&(s=t.call(a,a.__data__,f,c))&&("__data__"in a&&(s.__data__=a.__data__),u[f]=s);return new pt(o,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):i(t);for(var e=this._groups,n=e.length,r=[],o=[],a=0;a<n;++a)for(var s,c=e[a],l=c.length,u=0;u<l;++u)(s=c[u])&&(r.push(t.call(s,s.__data__,u,c)),o.push(s));return new pt(r,o)},selectChild:function(t){return this.select(null==t?l:function(t){return function(){return c.call(this.children,t)}}("function"==typeof t?t:s(t)))},selectChildren:function(t){return this.selectAll(null==t?p:function(t){return function(){return u.call(this.children,t)}}("function"==typeof t?t:s(t)))},filter:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,s=e[o],c=s.length,l=r[o]=[],u=0;u<c;++u)(i=s[u])&&t.call(i,i.__data__,u,s)&&l.push(i);return new pt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,v);var n,r=e?g:y,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var f=o[u],p=i[u],h=p.length,d=m(t.call(f,f&&f.__data__,u,o)),b=d.length,_=c[u]=new Array(b),w=s[u]=new Array(b);r(f,p,_,w,l[u]=new Array(h),d,e);for(var x,O,j=0,E=0;j<b;++j)if(x=_[j]){for(j>=E&&(E=j+1);!(O=w[E])&&++E<b;);x._next=O||null}}return(s=new pt(s,o))._enter=c,s._exit=l,s},enter:function(){return new pt(this._enter||this._groups.map(h),this._parents)},exit:function(){return new pt(this._exit||this._groups.map(h),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),c=0;c<a;++c)for(var l,u=n[c],f=r[c],p=u.length,h=s[c]=new Array(p),d=0;d<p;++d)(l=u[d]||f[d])&&(h[d]=l);for(;c<o;++c)s[c]=n[c];return new pt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=b);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new pt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=x(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?j:O:"function"==typeof e?n.local?T:S:n.local?A:E)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?k:"function"==typeof e?I:N)(t,e,null==n?"":n)):R(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?M:"function"==typeof e?C:F)(t,e)):this.node()[t]},classed:function(t,e){var n=D(t+"");if(arguments.length<2){for(var r=L(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?z:e?B:W)(n,e))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?H:G)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?J:Y)(t)):this.node().innerHTML},raise:function(){return this.each(K)},lower:function(){return this.each(Z)},append:function(t){var e="function"==typeof t?t:et(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:et(t),o=null==n?nt:"function"==typeof n?n:e(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(rt)},clone:function(t){return this.select(t?it:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?st:at,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ut:lt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const dt=ht;function yt(t){return"string"==typeof t?new pt([[document.querySelector(t)]],[document.documentElement]):new pt([[t]],ft)}function gt(t){return function(e){t.el.select(".tree").classed("has-transient",!1),e.classed("root",(function(e,n){return!t.options.forest&&0===n})).classed("transient",(function(e){return e.id===t.options.transientId&&(t.el.select(".tree").classed("has-transient",!0),!0)})).select((function(e){let n=this.dataset.classes;if(n&&this.classList.remove(...n.split(" ")),t.nodes[e.id]&&t.nodes[e.id].className){let n=t.nodes[e.id].className;this.classList.add(...n.split(" ")),this.dataset.classes=n}return this})).attr("data-id",(function(e){return e[t.options.accessors.id]})).style(t.prefix+"transform",(function(t){return"translate(0px,"+t._y+"px)"})).call(t.options.contents,t).select(t.options.indentableSelector).attr("style",(function(e){return t.prefix+"transform:translate("+t._rtlTransformX(e._x)+"px,0px)"})),e.select("div.indicator").attr("class",(function(e){return"label-mask indicator "+t.nodes[e.id][t.options.accessors.color]}))}}var vt=n(155),mt=function(t){var e=this;this.tree=t,this.updater=gt(t),this._travelerTimeout=null,this.traveler=null,this.start=function(t,n,r){yt(window).on("touchmove.dnd",(function(){e._travelerTimeout&&clearTimeout(e._travelerTimeout),t.stopPropagation()}),!0),e._start(n,r,this),e._startMs=new Date},this.drag=function(t,n,r){e._autoscroll(t,n,e.tree,t.y),e._drag(t,n,r,this)},this.end=function(t,n){if(yt(window).on("touchmove.dnd",null),e.traveler&&new Date-e._startMs<e.tree.options.dndDelay){e._restore();var r=this;vt.nextTick((function(){r.click()}))}e._end(n,this)}};mt.prototype._createTraveler=function(t,e,n){this._travelerTimeout=null;var r=this.tree.el.select(".tree").node(),o=yt(n).classed("placeholder",!0);this._dragging=!0,yt(window).on("keydown.tree-escape",this._escape.bind(this,n)),yt(window).on("touchmove.dnd",(function(t){t.preventDefault()}),!0),this.traveler=yt(document.createElement("div")).attr("class",n.className).classed("traveling-node",!0).classed("forest-traveler",this.tree.options.forest).classed("selected",o.classed("selected")).datum(t).style(this.tree.prefix+"transform",(function(t){return"translate(0px,"+(t._y-r.scrollTop)+"px)"})).call(this.tree.options.contents,this.tree,!1).datum({_source:t,_initialParent:t.parent&&t.parent.id,_initialIndex:this._getIndex(t),embedded:!1}),this.tree.el.node().appendChild(this.traveler.node()),this.tree.emit("dndstart",{traveler:this.traveler.node(),data:this.tree.nodes[t.id],el:n,layout:t}),t.children&&this.tree.toggle(t)},mt.prototype._getIndex=function(t){var e=t.parent&&t.parent._allChildren.indexOf(t);return"number"!=typeof e&&this.tree.options.forest&&(e=this.tree.root.indexOf(t)),e},mt.prototype._start=function(t,e,n){this.tree.isEditable()&&!this.tree.el.select(".tree").classed("filtered-results")&&(this.tree.options.forest||0!==t._y)&&(this._travelerTimeout=window.setTimeout(this._createTraveler.bind(this,t,e,n),300))},mt.prototype._restore=function(){var t=this.traveler.datum(),e=this;return this._remove(t._source),this.tree.options.forest&&!t._initialParent?this.tree.root.splice(t._initialIndex,0,t._source):this.tree._layout[t._initialParent]._allChildren.splice(t._initialIndex,0,t._source),this.tree._rebind((function(t,n,r){n.call(e.updater)})),this},mt.prototype._escape=function(t,e){27===e.keyCode&&(this.tree.emit("dndcancel"),this._restore()._end(this.traveler.datum()._source,t))},mt.prototype._remove=function(t){t.parent&&t.parent._collapsedChildren&&(t.parent._allChildren=t.parent._collapsedChildren,t.parent._collapsedChildren=null,t.parent.collapsed=!0),this.tree._removeFromParent(t)},mt.prototype._autoscroll=function(t,e,n,r){if(this._autoscrollTimeout&&(window.clearTimeout(this._autoscrollTimeout),this._autoscrollTimeout=null),this._dragging&&!(r<this.tree.options.height)){var o=n.el.select(".tree").node();r-30<o.scrollTop?i.call(this,-10):r+30>o.scrollTop+o.offsetHeight&&i.call(this,10)}function i(i){o.scrollTop+=i,r+=i,t||this._move(r,e),this._autoscrollTimeout=setTimeout(function(){this._autoscroll(null,e,n,r)}.bind(this),10)}},mt.prototype._getTarget=function(t){var e=t+this.tree.options.height/2-this.tree._rootOffset,n=yt(this.tree.node.nodes()[this.tree.node.size()-1]).datum()._y,r=Math.min(e-e%this.tree.options.height,n);return this.tree.node.filter((function(t){return t._y>=r})).nodes()[0]},mt.prototype._isEmbedded=function(t,e,n,r){var o=e._y-8>=r,i=e.parent,a=i&&i.children||[];return n===e||(a.length>1&&a[0]===e&&(o=!0),t!==e&&a[0]===e&&(o=!0),o)},mt.prototype._previous=function(t,e){var n=this.tree.node.filter(function(t){return Math.max(t._y-this.tree._rootOffset,0)===e._y-this.tree.options.height-this.tree._rootOffset}.bind(this)).nodes()[0];return n?(n=yt(n).datum())===t?e:n:null},mt.prototype._parent=function(t,e,n,r){return r?n:t===e?e.parent&&e.parent.parent:e.parent},mt.prototype._getDropIndex=function(t,e,n,r,o){if(o)return 0;if(n._y>=yt(this.tree.node.nodes()[this.tree.node.size()-1]).datum()._y)return e.length;var i=e.indexOf(n);return-1===i&&(i=e.indexOf(r)+1),i},mt.prototype._children=function(t,e,n){return n=null,!e&&this.tree.options.forest?n=this.tree.root:e.collapsed&&e._allChildren?(e._collapsedChildren=e._allChildren,n=e._allChildren=[],e.collapsed=!1):(n=e._allChildren||(e._allChildren=[]),e.collapsed=!1),n},mt.prototype._isIllegal=function(t,e,n){let r=Object.assign({},this.tree.nodes[t.id],{beforeDragState:n});return(e&&e.id)==this.tree.options.transientId||!this.tree.options.droppable.call(this.tree,r,this.tree.nodes[e&&e.id])},mt.prototype._move=function(t,e){var n,r,o,i=this,a=this.tree.el.select(".tree").node(),s=a.offsetHeight+a.scrollTop-i.tree.options.height,c=i.tree.options.forest?a.scrollTop:a.scrollTop+i.tree.options.height/2+this.tree._rootOffset,l=(n=t-i.tree.options.height/2,r=c,o=s,Math.min(Math.max(n,r),o)),u=yt(this._getTarget(l)).datum(),f=i._previous(e,u),p=this._isEmbedded(e,u,f,l);this.traveler.datum((function(t){if(t._y=l,t._source!=u||t.embedded!=p){var e=i._parent(t._source,u,f,p),n=!1,r={index:t._initialIndex,parent:t._initialParent};i._isIllegal(t._source,e,r)&&(n=!0,p&&(e.parent?e=e.parent:i.tree.options.forest&&(e=void 0),p=!1,n=i._isIllegal(t._source,e,r))),t.illegal=n;var o=i._children(t._source,e,o),a=i._getDropIndex(t._source,o,u,f,p);i._remove(t._source),o.splice(a,0,t._source),t.embedded=p,i.tree._transitionWrap((function(){i.tree._rebind((function(t,e,n){e.call(i.updater),n.remove()}))}),!0,!0)()}return i.tree.emit("dndmove",{traveler:this,data:i.tree.nodes[t._source.id],layout:t._source}),t})).style(i.tree.prefix+"transform",(function(t){return"translate(0px,"+(t._y-a.scrollTop)+"px)"})).classed("illegal",(function(t){return t.illegal})).select(this.tree.options.indentableSelector).attr("style",(function(t){return i.tree.prefix+"transform:translate("+t._source._x+"px,0px)"}))},mt.prototype._drag=function(t,e,n,r){this._travelerTimeout&&(window.clearTimeout(this._travelerTimeout),this._createTraveler.call(this,e,n,r)),this._dragging&&(this.tree.el.select(".tree").classed("dragging",!0),this._move(t.y,e))},mt.prototype._end=function(t,e){if(yt(window).on("keydown.tree-escape",null),this._travelerTimeout&&(window.clearTimeout(this._travelerTimeout),delete this._travelerTimeout),this._dragging){if(delete this._dragging,this.tree.node.classed("placeholder",!1),this.tree.emit("dndstop",{traveler:this.traveler.node(),data:this.tree.nodes[t.id],el:e,layout:t}),this.traveler){var n=this.traveler.datum();n.illegal&&this._restore();var r=this._getIndex(t);n.illegal||n._initialParent===(t.parent&&t.parent.id)&&n._initialIndex===r||(t.parent&&t.parent._collapsedChildren&&(t.parent._allChildren=t.parent._collapsedChildren.concat(t.parent._allChildren[0]),t.parent._collapsedChildren=null,this.tree._transitionWrap(this.tree._fly,!0,!0)(t.parent)),this.tree.emit("move",this.tree.nodes[t.id],t.parent?this.tree.nodes[t.parent.id]:null,this.tree.nodes[this.traveler.datum()._initialParent],t.parent?t.parent._allChildren.indexOf(t):this.tree.root.indexOf(t),this.traveler.datum()._initialIndex)),this.traveler.remove(),this.traveler=null}this.tree.el.select(".tree").classed("dragging",!1)}};const bt=mt;var _t={value:()=>{}};function wt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new xt(r)}function xt(t){this._=t}function Ot(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function jt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=_t,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}xt.prototype=wt.prototype={constructor:xt,on:function(t,e){var n,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=i[a]).type)o[n]=jt(o[n],t.name,e);else if(null==e)for(n in o)o[n]=jt(o[n],t.name,null);return this}for(;++a<s;)if((n=(t=i[a]).type)&&(n=Ot(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};const Et=wt;function At(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const St={passive:!1},Tt={capture:!0,passive:!1};function Pt(t){t.stopImmediatePropagation()}function kt(t){t.preventDefault(),t.stopImmediatePropagation()}const Nt=t=>()=>t;function It(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}function Rt(t){return!t.ctrlKey&&!t.button}function Mt(){return this.parentNode}function Ft(t,e){return null==e?{x:t.x,y:t.y}:e}function Ct(){return navigator.maxTouchPoints||"ontouchstart"in this}It.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Dt=n(187),Lt=n(150),$t=n(539),qt=function(t){return"translate(0px,"+(t?t._y:0)+"px)"};function Ut(t){return t._allChildren&&t._allChildren.length&&t._allChildren.filter((function(t){return!1!==t.visible})).length}function Bt(t,e,n){function r(t,n){var r=e.nodes[t];return r&&r[n]||""}t.each((function(t){var o=yt(this),i=o.selectAll(".node-contents").data((function(t){return[t]})),a=i.enter().append("div").attr("class","node-contents").attr("style",(function(t){let r=n?t.parent?t.parent._x:0:t._x;return e.prefix+"transform:translate("+e._rtlTransformX(r)+"px,0px)"}));a.append("div").attr("class",(function(t){return"toggler "+(t.children?"expanded":Ut(t)?"collapsed":"leaf")})).on("click",e._onToggle.bind(e)).append("svg").append("use").attr("xlink:href","#icon-collapsed"),a.append("svg").attr("class",(function(t){return"icon "+r(t.id,e.options.accessors.color)+" icon-"+(r(t.id,e.options.accessors.icon)||"")})).append("use").attr("xlink:href",(function(t){return"#icon-"+r(t.id,e.options.accessors.icon)})),a.append("div").attr("class","label").call(e.options.label.bind(e)),i.select("svg.icon").attr("class",(function(t){var n=e.nodes[t.id][e.options.accessors.color];return"icon "+(n?n+" has-color":"")+" icon-"+(r(t.id,e.options.accessors.icon)||"")})).select("use").attr("xlink:href",(function(t){return"#icon-"+e.nodes[t.id][e.options.accessors.icon]})),i.select(".toggler").attr("class",(function(t){return"toggler "+(t.children?"expanded":Ut(t)?"collapsed":"leaf")})),i.select("div.label").call(e.options.label.bind(e)),o.selectAll(".label-mask").data((function(t){return[t]})).enter().append("div").attr("class",(function(t){return(e.options.indicator?"label-mask indicator ":"label-mask ")+r(t.id,e.options.accessors.color)}))}))}var Wt,zt,Vt=0,Gt=0,Ht=0,Xt=1e3,Yt=0,Jt=0,Kt=0,Zt="object"==typeof performance&&performance.now?performance:Date,Qt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function te(){return Jt||(Qt(ee),Jt=Zt.now()+Kt)}function ee(){Jt=0}function ne(){this._call=this._time=this._next=null}function re(t,e,n){var r=new ne;return r.restart(t,e,n),r}function oe(){Jt=(Yt=Zt.now())+Kt,Vt=Gt=0;try{!function(){te(),++Vt;for(var t,e=Wt;e;)(t=Jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vt}()}finally{Vt=0,function(){for(var t,e,n=Wt,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wt=e);zt=t,ae(r)}(),Jt=0}}function ie(){var t=Zt.now(),e=t-Yt;e>Xt&&(Kt-=e,Yt=t)}function ae(t){Vt||(Gt&&(Gt=clearTimeout(Gt)),t-Jt>24?(t<1/0&&(Gt=setTimeout(oe,t-Zt.now()-Kt)),Ht&&(Ht=clearInterval(Ht))):(Ht||(Yt=Zt.now(),Ht=setInterval(ie,Xt)),Vt=1,Qt(oe)))}function se(t,e,n){var r=new ne;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}ne.prototype=re.prototype={constructor:ne,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?te():+n)+(null==e?0:+e),this._next||zt===this||(zt?zt._next=this:Wt=this,zt=this),this._call=t,this._time=n,ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,ae())}};var ce=Et("start","end","cancel","interrupt"),le=[],ue=0,fe=3;function pe(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(c){var l,u,f,p;if(1!==n.state)return s();for(l in o)if((p=o[l]).name===n.name){if(p.state===fe)return se(i);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete o[l]):+l<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete o[l])}if(se((function(){n.state===fe&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=fe,r=new Array(f=n.tween.length),l=0,u=-1;l<f;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=re((function(t){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:o,on:ce,tween:le,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ue})}function he(t,e){var n=ye(t,e);if(n.state>ue)throw new Error("too late; already scheduled");return n}function de(t,e){var n=ye(t,e);if(n.state>fe)throw new Error("too late; already running");return n}function ye(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ge(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ve,me=180/Math.PI,be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _e(t,e,n,r,o,i){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*me,skewX:Math.atan(c)*me,scaleX:a,scaleY:s}}function we(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:ge(t,o)},{i:c-2,x:ge(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:ge(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,c),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:ge(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,c),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:ge(t,n)},{i:s-2,x:ge(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var xe=we((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?be:_e(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Oe=we((function(t){return null==t?be:(ve||(ve=document.createElementNS("http://www.w3.org/2000/svg","g")),ve.setAttribute("transform",t),(t=ve.transform.baseVal.consolidate())?_e((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):be)}),", ",")",")");function je(t,e){var n,r;return function(){var o=de(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function Ee(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=de(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function Ae(t,e,n){var r=t._id;return t.each((function(){var t=de(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ye(t,r).value[e]}}function Se(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Te(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pe(){}var ke=.7,Ne=1/ke,Ie="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fe=/^#([0-9a-f]{3,8})$/,Ce=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),De=new RegExp(`^rgb\\(${Me},${Me},${Me}\\)$`),Le=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${Re}\\)$`),$e=new RegExp(`^rgba\\(${Me},${Me},${Me},${Re}\\)$`),qe=new RegExp(`^hsl\\(${Re},${Me},${Me}\\)$`),Ue=new RegExp(`^hsla\\(${Re},${Me},${Me},${Re}\\)$`),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(){return this.rgb().formatHex()}function ze(){return this.rgb().formatRgb()}function Ve(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ge(e):3===n?new Ye(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?He(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?He(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ce.exec(t))?new Ye(e[1],e[2],e[3],1):(e=De.exec(t))?new Ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Le.exec(t))?He(e[1],e[2],e[3],e[4]):(e=$e.exec(t))?He(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qe.exec(t))?en(e[1],e[2]/100,e[3]/100,1):(e=Ue.exec(t))?en(e[1],e[2]/100,e[3]/100,e[4]):Be.hasOwnProperty(t)?Ge(Be[t]):"transparent"===t?new Ye(NaN,NaN,NaN,0):null}function Ge(t){return new Ye(t>>16&255,t>>8&255,255&t,1)}function He(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ye(t,e,n,r)}function Xe(t,e,n,r){return 1===arguments.length?((o=t)instanceof Pe||(o=Ve(o)),o?new Ye((o=o.rgb()).r,o.g,o.b,o.opacity):new Ye):new Ye(t,e,n,null==r?1:r);var o}function Ye(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Je(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}`}function Ke(){const t=Ze(this.opacity);return`${1===t?"rgb(":"rgba("}${Qe(this.r)}, ${Qe(this.g)}, ${Qe(this.b)}${1===t?")":`, ${t})`}`}function Ze(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tn(t){return((t=Qe(t))<16?"0":"")+t.toString(16)}function en(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new rn(t,e,n,r)}function nn(t){if(t instanceof rn)return new rn(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=Ve(t)),!t)return new rn;if(t instanceof rn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new rn(a,s,c,t.opacity)}function rn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function on(t){return(t=(t||0)%360)<0?t+360:t}function an(t){return Math.max(0,Math.min(1,t||0))}function sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function cn(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}Se(Pe,Ve,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:We,formatHex:We,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nn(this).formatHsl()},formatRgb:ze,toString:ze}),Se(Ye,Xe,Te(Pe,{brighter(t){return t=null==t?Ne:Math.pow(Ne,t),new Ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ke:Math.pow(ke,t),new Ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ye(Qe(this.r),Qe(this.g),Qe(this.b),Ze(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatHex8:function(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}${tn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ke,toString:Ke})),Se(rn,(function(t,e,n,r){return 1===arguments.length?nn(t):new rn(t,e,n,null==r?1:r)}),Te(Pe,{brighter(t){return t=null==t?Ne:Math.pow(Ne,t),new rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ke:Math.pow(ke,t),new rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Ye(sn(t>=240?t-240:t+120,o,r),sn(t,o,r),sn(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new rn(on(this.h),an(this.s),an(this.l),Ze(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ze(this.opacity);return`${1===t?"hsl(":"hsla("}${on(this.h)}, ${100*an(this.s)}%, ${100*an(this.l)}%${1===t?")":`, ${t})`}`}}));const ln=t=>()=>t;function un(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ln(isNaN(t)?e:t)}const fn=function t(e){var n=function(t){return 1==(t=+t)?un:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ln(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Xe(t)).r,(e=Xe(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=un(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function pn(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Xe(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}pn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return cn((n-r/e)*e,a,o,i,s)}})),pn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return cn((n-r/e)*e,o,i,a,s)}}));var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(hn.source,"g");function yn(t,e){var n,r,o,i=hn.lastIndex=dn.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=hn.exec(t))&&(r=dn.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:ge(n,r)})),i=dn.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function gn(t,e){var n;return("number"==typeof e?ge:e instanceof Ve?fn:(n=Ve(e))?(e=n,fn):yn)(t,e)}function vn(t){return function(){this.removeAttribute(t)}}function mn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function _n(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function wn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttribute(t)}}function xn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function On(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,o)),n}return o._value=e,o}function jn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,o)),n}return o._value=e,o}function En(t,e){return function(){he(this,t).delay=+e.apply(this,arguments)}}function An(t,e){return e=+e,function(){he(this,t).delay=e}}function Sn(t,e){return function(){de(this,t).duration=+e.apply(this,arguments)}}function Tn(t,e){return e=+e,function(){de(this,t).duration=e}}var Pn=dt.prototype.constructor;function kn(t){return function(){this.style.removeProperty(t)}}var Nn=0;function In(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Rn(){return++Nn}var Mn=dt.prototype;In.prototype=function(t){return dt().transition(t)}.prototype={constructor:In,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e(t));for(var o=this._groups,i=o.length,a=new Array(i),s=0;s<i;++s)for(var c,l,u=o[s],f=u.length,p=a[s]=new Array(f),h=0;h<f;++h)(c=u[h])&&(l=t.call(c,c.__data__,h,u))&&("__data__"in c&&(l.__data__=c.__data__),p[h]=l,pe(p[h],n,r,h,p,ye(c,r)));return new In(a,this._parents,n,r)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=i(t));for(var r=this._groups,o=r.length,a=[],s=[],c=0;c<o;++c)for(var l,u=r[c],f=u.length,p=0;p<f;++p)if(l=u[p]){for(var h,d=t.call(l,l.__data__,p,u),y=ye(l,n),g=0,v=d.length;g<v;++g)(h=d[g])&&pe(h,e,n,g,d,y);a.push(d),s.push(l)}return new In(a,s,e,n)},selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,s=e[o],c=s.length,l=r[o]=[],u=0;u<c;++u)(i=s[u])&&t.call(i,i.__data__,u,s)&&l.push(i);return new In(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=e[s],u=n[s],f=l.length,p=a[s]=new Array(f),h=0;h<f;++h)(c=l[h]||u[h])&&(p[h]=c);for(;s<r;++s)a[s]=e[s];return new In(a,this._parents,this._name,this._id)},selection:function(){return new Pn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Rn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=ye(a,e);pe(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new In(r,this._parents,t,n)},call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:function(t,e){var n=this._id;return arguments.length<2?ye(this.node(),n).on.on(t):this.each(function(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?he:de;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}(n,t,e))},attr:function(t,e){var n=x(t),r="transform"===n?Oe:gn;return this.attrTween(t,"function"==typeof e?(n.local?xn:wn)(n,r,Ae(this,"attr."+t,e)):null==e?(n.local?mn:vn)(n):(n.local?_n:bn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=x(t);return this.tween(n,(r.local?On:jn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?xe:gn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=R(this,t),a=(this.style.removeProperty(t),R(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,kn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=R(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=R(this,t)),a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s))}}(t,r,Ae(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var c=de(this,t),l=c.on,u=null==c.value[a]?i||(i=kn(e)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=R(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ae(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=ye(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?je:Ee)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?En:An)(e,t)):ye(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Sn:Tn)(e,t)):ye(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){de(this,t).ease=e}}(e,t)):ye(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;de(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=de(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:Mn[Symbol.iterator]};var Fn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}dt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},dt.prototype.transition=function(t){var e,n;t instanceof In?(e=t._id,t=t._name):(e=Rn(),(n=Fn).time=te(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&pe(a,t,e,l,s,n||Cn(a,e));return new In(r,this._parents,t,e)};const Dn=window.getComputedStyle(document.documentElement,""),Ln=t=>f,$n=Array.prototype.slice.call(Dn).join("").match(/-(moz|webkit|ms)-/)[0];var qn=function(t,e){for(var n in e=e||{},t)e[n]=t[n];return e},Un=function(t,e){return t[e&&"object"==typeof e?e.id:e]},Bn=function(t){var e;if(!t)throw new Error("options are required");if(!t.stream)throw new Error("options.stream is required");for(var n in t.stream.on("error",function(t){this.emit("error",t)}.bind(this)),this.options={transientId:-1,toggleOnSelect:!0,depth:20,height:36,rootHeight:36,maxAnimatable:100,indicator:!1,forest:!1,dndDelay:250,scrollableContainer:function(){return this.el.select(".tree").node()},movable:function(t){return!0},droppable:function(t,e){return!0},label:function(t){var e=this;t.text((function(t){return e.nodes[t.id][e.options.accessors.label]}))},contents:Bt,indentableSelector:":first-child",performanceThreshold:1e3,accessors:{id:"id",label:"label",icon:"icon",color:"color"}},t)if("accessors"===n)for(var r in t.accessors)this.options.accessors[r]=t.accessors[r];else this.options[n]=t[n];this.options.scrollableContainer=this.options.scrollableContainer.bind(this),this._isRtl="rtl"===document.documentElement.getAttribute("dir"),this._rootOffset=Math.max(this.options.rootHeight-this.options.height,0),this.prefix=$n,this.transitionTimeout=300,this.updater=gt(this),this.enter=(e=this,function(t,n,r){var o=e.el.select(".tree").classed("transitions");return t.classed("node "+(r||""),!0).classed("selected",(function(t){return t.selected})).select((function(t){if(e.nodes[t.id].className){let n=e.nodes[t.id].className;this.classList.add(...n.split(" ")),this.dataset.classes=n}return this})).on("click",((t,n)=>e._onSelect(t,n,e.options))).style(e.prefix+"transform",n).call(e.options.contents,e,o),o&&(t.classed("transitioning-node",!0),e._forceRedraw(),t.classed("transitioning-node",!1)),t}),this.flyExit=function(t){return function(e,n,r){return e.style(t.prefix+"transform",r||qt.bind(null,n)).select(t.options.indentableSelector).style(t.prefix+"transform",(function(e){let n=e.parent?e.parent._x:0;return`translate(${t._rtlTransformX(n)}px,0px)`})),t.el.select(".tree").classed("transitions")?(e.classed("transitioning-node outgoing-node",!0),e.transition().duration(t.transitionTimeout).remove()):e.remove(),e}}(this),this.slideExit=function(t){return function(e){return e.classed("selected",!1),e.filter(Boolean).style(t.prefix+"transform",(function(e,n){return"translate(0px,"+(e._y-n*t.options.height)+"px)"})),t.el.select(".tree").classed("transitions")?(e.classed("transition-placeholder fading-node",!0),e.transition().duration(t.transitionTimeout).remove()):e.remove(),e}}(this);var o=new bt(this),i=function(){var t,e,n,r,o=Rt,i=Mt,a=Ft,s=Ct,c={},l=Et("start","drag","end"),u=0,f=0;function p(t){t.on("mousedown.drag",h).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,St).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!r&&o.call(this,a,s)){var c=b(this,i.call(this,a,s),a,s,"mouse");c&&(yt(a.view).on("mousemove.drag",d,Tt).on("mouseup.drag",y,Tt),function(t){var e=t.document.documentElement,n=yt(t).on("dragstart.drag",kt,Tt);"onselectstart"in e?n.on("selectstart.drag",kt,Tt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(a.view),Pt(a),n=!1,t=a.clientX,e=a.clientY,c("start",a))}}function d(r){if(kt(r),!n){var o=r.clientX-t,i=r.clientY-e;n=o*o+i*i>f}c.mouse("drag",r)}function y(t){yt(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=yt(t).on("dragstart.drag",null);e&&(r.on("click.drag",kt,Tt),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),kt(t),c.mouse("end",t)}function g(t,e){if(o.call(this,t,e)){var n,r,a=t.changedTouches,s=i.call(this,t,e),c=a.length;for(n=0;n<c;++n)(r=b(this,s,t,e,a[n].identifier,a[n]))&&(Pt(t),r("start",t,a[n]))}}function v(t){var e,n,r=t.changedTouches,o=r.length;for(e=0;e<o;++e)(n=c[r[e].identifier])&&(kt(t),n("drag",t,r[e]))}function m(t){var e,n,o=t.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(n=c[o[e].identifier])&&(Pt(t),n("end",t,o[e]))}function b(t,e,n,r,o,i){var s,f,h,d=l.copy(),y=At(i||n,e);if(null!=(h=a.call(t,new It("beforestart",{sourceEvent:n,target:p,identifier:o,active:u,x:y[0],y:y[1],dx:0,dy:0,dispatch:d}),r)))return s=h.x-y[0]||0,f=h.y-y[1]||0,function n(i,a,l){var g,v=y;switch(i){case"start":c[o]=n,g=u++;break;case"end":delete c[o],--u;case"drag":y=At(l||a,e),g=u}d.call(i,t,new It(i,{sourceEvent:a,subject:h,target:p,identifier:o,active:g,x:y[0]+s,y:y[1]+f,dx:y[0]-v[0],dy:y[1]-v[1],dispatch:d}),r)}}return p.filter=function(t){return arguments.length?(o="function"==typeof t?t:Nt(!!t),p):o},p.container=function(t){return arguments.length?(i="function"==typeof t?t:Nt(t),p):i},p.subject=function(t){return arguments.length?(a="function"==typeof t?t:Nt(t),p):a},p.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Nt(!!t),p):s},p.on=function(){var t=l.on.apply(l,arguments);return t===l?p:t},p.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,p):Math.sqrt(f)},p}();i.on("start",o.start).on("drag",o.drag).on("end",o.end),this.dnd=i,this.layout=function(t,e,n,r){return function(o){if(!o)return[];var i=(Array.isArray(o)?o:[o]).filter((function(t){return!1!==t.visible})),a=[],s=this;return i.forEach((function(t){var e,n,o,i,c=[t];for(t.depth=0;null!=(e=c.pop());)if(a.push(e),(o=r.call(s,e,e.depth))&&(n=o.length)){for(;--n>=0;)c.push(i=o[n]),i.parent=e,i.depth=e.depth+1;e.children=o}else delete e.children})),function(t,e){var n=0;t.forEach((function(t){for(var r,o,i=[t];null!=(t=i.pop());)if(e(t,n++),(o=t.children)&&(r=o.length))for(;--r>=0;)i.push(o[r])}))}(i,(function(r,o){r._x=r.depth*t,r._y=o*e+(o>0?n:0)})),a}}(this.options.depth,this.options.height,this._rootOffset,(function(t){return t.collapsed?null:t._allChildren&&t._allChildren.filter((function(t){return!1!==t.visible}))}))};$t.inherits(Bn,Dt.EventEmitter),Bn.prototype.render=function(){var t=this;this.el=yt(document.createElement("div")).attr("class","tree-container").classed("ie-trident",(function(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0})),this.node=this.el.append("div").attr("class","tree").classed("editable",this.options.editable).on("scroll",(function(){var e=t.options.scrollableContainer().scrollTop;t._scrollTop||(t._scrollTop=e),Math.abs(e-t._scrollTop)>t.options.height&&(t.adjustViewport(),t._scrollTop=e)}),{passive:!0}).classed("forest-tree",this.options.forest).append("ul").selectAll("li.node"),this._layout=[],this.nodes={},this.root=this.options.forest?[]:null;let e=null,n=t=>{e||(e=requestAnimationFrame((()=>{this._fly(),e=null,t&&t()})))};return this.options.stream.on("data",(function(e){let r=t._store(e);t.options.initialSelection==r.id?t.select(r.id,{silent:!0,animate:!1}):(!r.collapsed||r.parent&&!r.parent.collapsed)&&n(),t.emit("node",e)})).on("end",(()=>{e&&(window.cancelAnimationFrame(e),e=null),n((()=>{t.emit("rendered")}))})),this},Bn.prototype._rtlTransformX=function(t){return this._isRtl?-t:t},Bn.prototype._forceRedraw=function(){return this.el.nodes()[0].offsetHeight},Bn.prototype._transitionWrap=function(t,e,n){var r=this;return function(o){if(e=void 0!==e?e:r.node.size()<r.options.maxAnimatable){var i=(o&&o._allChildren||[]).reduce((function(t,e){return t+r._descendants(e,"children").length}),0);e=!(i>r.options.maxAnimatable)&&e}return r._tuned&&(e=!1),n&&(e=!0),e&&r.el.select(".tree").classed("transitions",!0),e&&setTimeout((function(){r.el.select(".tree").classed("transitions",!1)}),r.transitionTimeout),t.apply(r,arguments)}},Bn.prototype.adjustViewport=function(){if(this._tuned){var t=this,e=function(e,n,r){e.call(t.enter,(function(t){return"translate(0px,"+t._y+"px)"})),n.call(t.updater),r.remove()};this._filteredResults?this._join(this._filteredResults,e):this._rebind(e)}},Bn.prototype._clearFilter=function(){return this.el.select(".tree").classed("filtered-results",!1).on(".filtered-click",null),this._filteredResults=null,this},Bn.prototype._rebind=function(t){this._clearFilter().el.select(".tree").classed("detached-root",!!this._rootOffset);var e=this.layout(this.root);return this.emit("rebind",e),this._join(e,t)},Bn.prototype._join=function(t,e){var n=this,r="auto",o=this.options.scrollableContainer(),i=Math.max(0,o.scrollTop-2*this.options.height),a=o.scrollTop+o.offsetHeight+2*this.options.height;if(this._tuned=!1,t.length>this.options.performanceThreshold){var s=t[t.length-1];t=t.filter((function(t,e){var r=t._y>=i&&t._y<=a;return r||(n._tuned=!0),r})),this._tuned&&(this.el.select(".tree").classed("transitions",!1),r=s._y+this.options.height+this._rootOffset+"px")}this.resize(t.length),this.el.select(".tree ul").style("height",r),this.emit("change:height",r);var c=this.el.select(".tree ul").selectAll("li:not(.outgoing-node)").data(t,(function(t){return t[n.options.accessors.id]})),l=c.enter().insert("li").classed("node",!0),u=c.exit(),f=this.node=l.merge(c);return u.size()&&this.emit("rebind:exit",u),this.el.select(".tree").classed("editable")?f.filter((function(t){return n.options.movable.call(n,n.nodes[t.id])})).classed("movable",!0).call(this.dnd):f.on(".drag",null).classed("movable",!1),f.classed("kalpa-top-node",(function(t){return 0===t._y})),e(l,f,u)},Bn.prototype._fly=function(t){var e=this._visibleNodes(),n=this;this._rebind((function(r,o,i){r.call(n.enter,n._defaultEnterFly.bind(n,e)),o.call(n.updater),i.call(n.flyExit,t)}))},Bn.prototype._defaultEnterFly=function(t,e){return"translate(0px,"+function e(n){return n?t[n.id]?t[n.id]:e(n.parent):0}(e.parent)+"px)"},Bn.prototype._slide=function(t){var e=this;this._rebind((function(n,r,o){n.call(e.enter,(function(e){return"translate(0px,"+(t?t._y:e._y)+"px)"}),"fading-node transition-placeholder"),r.call((function(t){t.classed("fading-node",!1),setTimeout((function(){t.classed("transition-placeholder",!1)}),e.transitionTimeout)})),o.call(e.slideExit,t),r.call(e.updater)}))},Bn.prototype.resize=function(t){void 0===t&&(t=this.el.selectAll(".tree ul li").data().length);var e=this.options.height;return this.el.select(".tree").classed("tree-overflow",(function(){return this.offsetHeight<t*e})),this},Bn.prototype.parent=function(t){var e=Un(this._layout,t);if(!e)return null;var n=e.parent;return n&&this.nodes[n.id]},Bn.prototype.children=function(t){var e=Un(this._layout,t),n=this;return e?(e._allChildren||[]).map((function(t){return n.nodes[t.id]})):[]},Bn.prototype._siblings=function(t){var e=Un(this._layout,t);if(e)return e.parent?e.parent._allChildren:this.options.forest?this.root:[]},Bn.prototype._indexOf=function(t){var e=Un(this._layout,t),n=this._siblings(t);if(n)return n.indexOf(e)},Bn.prototype.nextSibling=function(t){if(t){var e=this._indexOf(t);if(null!=e&&-1!==e){var n=this._siblings(t)[e+1];return this.nodes[n&&n.id]}}},Bn.prototype.previousSibling=function(t){var e=this._indexOf(t);if(-1!==e){var n=this._siblings(t)[e-1];return this.nodes[n&&n.id]}},Bn.prototype.move=function(t,e,n,r=!0){var o=Un(this._layout,t);if(t){var i=this._layout[null!==e&&"object"==typeof e?e.id:e];if(i){this._removeFromParent(o),delete i.collapsed;var a=i._allChildren||(i._allChildren=[]);a.splice("number"==typeof n?n:a.length,0,o),o.parent=i,r&&this._expandAncestors(i)}else this.options.forest&&(this._removeFromParent(o),this.root.splice("number"==typeof n?n:this.root.length,0,o));this._transitionWrap(this._slide)()}},Bn.prototype._descendants=function(t,e){return e||(e="_allChildren"),[t].reduce((function t(n,r){return r[e]?n.concat(r[e].reduce(t,[r])):n.concat(r)}),[])},Bn.prototype.copy=function(t,e,n,r=Ln,o=!0){var i=Un(this._layout,t);if(i){var a=this,s=Un(this._layout,e);this._descendants(i).map((function(t){return{transformed:r($t._extend({},a.nodes[t.id])),originalId:t.id,prevParent:a._layout[t.id].parent}})).forEach((function(t,e,r){var i={id:t.transformed.id};if(a._layout[t.transformed.id]=i,a.nodes[t.transformed.id]=t.transformed,0===e)if(s){let t=s._allChildren||(s._allChildren=[]);t.splice("number"==typeof n?n:t.length,0,i),o&&a._expandAncestors(s),s.collapsed=!1}else a.options.forest&&a.root.splice("number"==typeof n?n:a.root.length,0,i);else{for(var c=null,l=e;l>=0;l--)if(r[l].originalId===t.prevParent.id){c=a._layout[r[l].transformed.id];break}i.parent=c,(c._allChildren||(c._allChildren=[])).push(i)}})),this._transitionWrap(this._slide)()}},Bn.prototype.select=function(t,e){if(e=e||{},!this._selected||this._selected.id!=t||!0===e.force){void 0===e.toggleOnSelect&&(e.toggleOnSelect=this.options.toggleOnSelect);var n=this._layout[t];n?(n.parent&&(this.node.filter((function(t){return n.parent.id===t.id})).size()||(e.animate=!1)),this._onSelect(null,n,e)):(this._deselect(),this.node.classed("selected",(t=>t.selected)))}},Bn.prototype.get=function(t){return void 0===t?this.root:this.nodes[t]},Bn.prototype.selected=function(){if(this._selected)return this.get(this._selected.id)},Bn.prototype.selectedEl=function(){if(this._selected){var t=this;return this.node.filter((function(e){return e.id==t._selected.id})).node()}},Bn.prototype._expandAncestors=function(t){!function t(e){e&&(delete e.collapsed,e&&e.parent&&t(e.parent))}(t.parent)},Bn.prototype._scrollIntoView=function(t,e){var n=this.options.scrollableContainer();t?(t._y<n.scrollTop||t._y+this.options.height>n.offsetHeight+n.scrollTop)&&(this.el.select(".tree").classed("transitions")?setTimeout((function(){n.scrollTop=t._y}),this.transitionTimeout):n.scrollTop=t._y,this._tuned&&this.adjustViewport()):n.scrollTop=0},Bn.prototype._deselect=function(){if(this._selected){let t=this._selected.id;return delete this._selected.selected,this._selected=null,t}},Bn.prototype._onSelect=function(t,e,n){let r=(n=n||{}).toggleOnSelect&&!(!e.collapsed&&!e.selected)&&e!==this.root,o=this._deselect();e.selected=!0,this._selected=e,this._expandAncestors(e),r?this.toggle(e,n):this._transitionWrap(this._fly,n.animate)(e),this.node.classed("selected",(t=>t.selected)).classed("selecting",(t=>t.selected&&t.id!==o)),this._forceRedraw(),this.node.classed("selecting",!1),this._scrollIntoView(e,n),n.silent||(this.emit("select",this.nodes[e.id]),setTimeout(function(){this.emit("selected")}.bind(this),this.el.select(".tree").classed("transitions")?this.transitionTimeout:0))},Bn.prototype._onToggle=function(t,e){t.stopPropagation(),e!==this.root&&this.toggle(e)},Bn.prototype._store=function(t,e,n){if(this._layout[t.id])return this._layout[t.id];this.nodes[t.id]=t;var r=e||this._layout[t.parentId],o=this._layout[t.id]={id:t.id,collapsed:void 0===t.collapsed||t.collapsed};if(!1===t.visible&&(o.visible=!1),r){o.parent=r;let t=r._allChildren||(r._allChildren=[]);null!=n?t.splice(n,0,o):t.push(o)}else this.options.forest?this.root.splice("number"==typeof n?n:this.root.length,0,o):(o.collapsed=!1,this.root=o);return o},Bn.prototype.add=function(t,e,n,r={expand:!0}){if(!this._layout[t.id])return e=this._layout[null!==e&&"object"==typeof e?e.id:e],r.expand&&e&&e.selected&&e.collapsed&&(delete e.collapsed,this._fly(),this._forceRedraw()),this._store(t,e,n),this._transitionWrap(this._slide)(),t},Bn.prototype.addAll=function(t=[]){t.forEach((t=>{if(this._layout[t.data.id])return;let e=this._layout[null!==t.parent&&"object"==typeof t.parent?t.parent.id:t.parent];this._store(t.data,e,t.idx)})),this._transitionWrap(this._slide)()},Bn.prototype.isEditable=function(){return this.el.select(".tree").classed("editable")},Bn.prototype.editable=function(){var t=this.el.select(".tree"),e=this;t.classed("editable",!t.classed("editable")),this._join(this.layout(this.root),(function(t,n,r){t.call(e.enter),n.call(e.updater),r.remove()}))},Bn.prototype._toggleAll=function(t){var e=this;Object.keys(this._layout).forEach((function(n){e._layout[n]!=e.root&&t(e._layout[n])}))},Bn.prototype._visibleNodes=function(){return this.node.nodes().reduce((function(t,e){var n=yt(e).datum();return t[n.id]=n._y,t}),{})},Bn.prototype.expandAll=function(){this._toggleAll((function(t){delete t.collapsed}));var t=this;Object.keys(this._layout).length<this.options.maxAnimatable?this._transitionWrap((function(){var e=this._visibleNodes();t._rebind((function(n,r,o){n.call(t.enter,t._defaultEnterFly.bind(null,e)),r.call(t.updater),t._tuned&&o.remove()}))}))():t._rebind((function(e,n,r){e.call(t.enter,(function(t){return"translate(0px,"+t._y+"px)"})),n.call(t.updater),r.remove()}))},Bn.prototype.collapseTo=function(t){this._toggleAll((function(e){e.depth>=t&&(e.collapsed=!0)}));var e=this;Object.keys(this._layout).length<this.options.maxAnimatable?this._transitionWrap((function(){e._rebind((function(t,n,r){t.call(e.enter),n.call(e.updater),r.call(e.flyExit,null,(function(t){let e,n;for(e=n=t.parent;n.parent;)e=n,n=n.parent;return"translate(0px,"+e._y+"px)"}))}))}))():e._rebind((function(t,n,r){t.call(e.enter),n.call(e.updater),r.remove(),e._scrollIntoView(e._selected)}))},Bn.prototype.collapseAll=function(){return this.collapseTo(Number.NEGATIVE_INFINITY)},Bn.prototype.edit=function(t,e){if(void 0===(e=e||{}).patch&&(e.patch=!0),"object"==typeof t&&t.id&&this.nodes[t.id])this._edit(t,e),this._transitionWrap(this._slide)(this._layout[t.id]);else if(Array.isArray(t))Object.keys(t).forEach((n=>this._edit(t[n],e))),this._transitionWrap(this._slide)();else if("function"==typeof t.on){var n=this;t.on("data",(function(t){n._edit(t,e)})).on("end",(function(){n._transitionWrap(n._slide)()}))}},Bn.prototype._edit=function(t,e){var n=this.nodes[t.id],r=this._layout[t.id];n&&(n=e.patch?qn(t,n):t,this.nodes[t.id]=n,void 0!==t.visible&&(!1===t.visible?r.visible=!1:delete r.visible))},Bn.prototype.remove=function(){this.el.remove()},Bn.prototype._removeFromParent=function(t){var e=t.parent;if(e)-1!==(n=e._allChildren.indexOf(t))&&e._allChildren.splice(n,1);else if(this.options.forest){var n;-1!==(n=this.root.indexOf(t))&&this.root.splice(n,1)}return t.parent=null,this},Bn.prototype.removeNode=function(t,e={}){var n=Un(this.nodes,t);if(n){var r=this._layout[n.id];this._removeFromParent(r),delete this.nodes[r.id],delete this._layout[r.id],n.id===this.root.id&&delete this.root;var o=this;this._descendants(r).forEach((function(t){delete o.nodes[t.id],delete o._layout[t.id]})),r._allChildren=[],this._transitionWrap((function(){this._rebind((function(t,e,n){o._tuned&&t.call(o.enter),e.call(o.updater),n.call(o.slideExit,r)}))}),e.animate)()}},Bn.prototype.filter=function(t){if(null==t){let t=this._selected;return t||(t=this.options.forest?this.root.length?this.root[0]:null:this.root),this.select(t&&t.id,{force:this.el.select(".tree").classed("filtered-results"),silent:!0})}var e=this,n=Object.keys(this.nodes).filter((function(n){return t.call(e,e.nodes[n])})).map((function(t,n){var r=e._layout[t];return r._x=0,r._y=n*e.options.height,r}));this._transitionWrap((function(){this.el.select(".tree").classed("filtered-results",!0).classed("detached-root",!1).on("click.filtered-click",(function(){e._toggleAll((function(t){t.collapsed=!0}))}),!0),this._filteredResults=n;var t=this.options.performanceThreshold;this.options.performanceThreshold=0,this._join(n,(function(n,r,o){n.call(e.enter),r.call(e.updater),o.remove(),e.options.performanceThreshold=t}))}))()},Bn.prototype.search=function(t){if(!t)return this.filter(null);var e=new RegExp(Lt(t)||"","i"),n=this;this.filter((function(t){return e.test(t[n.options.accessors.label])&&!1!==t.visible}))},Bn.prototype._toggle=function(t,e,n){var r=Un(this._layout,t);n=n||{},r.collapsed=e,this._transitionWrap(this._fly,n.animate)(r)},Bn.prototype.toggle=function(t,e){var n=Un(this._layout,t);return this._toggle(t,!n.collapsed,e)},Bn.prototype.expand=function(t,e){return this._toggle(t,!1,e)},Bn.prototype.collapse=function(t,e){return this._toggle(t,!0,e)},Bn.prototype.addTransient=function(t,e,n){var r=qn(t);return r.id=this.options.transientId,Bn.prototype.add.call(this,r,e,n)},Bn.prototype.getTransient=function(){return Bn.prototype.get.call(this,this.options.transientId)},Bn.prototype.editTransient=function(t){var e=qn(t,this.nodes[this.options.transientId]);return e.id=this.options.transientId,Bn.prototype.edit.call(this,e)},Bn.prototype.moveTransient=function(t,e){return Bn.prototype.move.call(this,this.getTransient(),t,e)},Bn.prototype.saveTransient=function(t){var e=this.nodes[this.options.transientId],n=this;if(!e)throw new Error("No transient node");e.id=t,this.nodes[t]=e,delete this.nodes[this.options.transientId];var r=this._layout[this.options.transientId];r&&(r.id=t,this._layout[t]=r,delete this._layout[this.options.transientId]),this._rebind((function(t,e,r){e.call(n.updater)}))},Bn.prototype.removeTransient=function(t){this.removeNode(this.options.transientId,t)},Bn.prototype.expandedNodes=function(){return this._layout.filter((t=>!t.collapsed)).map((t=>this.nodes[t.id]))};const Wn=Bn})(),r})()));